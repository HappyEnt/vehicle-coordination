cmake_minimum_required(VERSION 3.0)

# Setup the project.
# Its name is defined to be the controller directory name.
get_filename_component(CURRENT_LIBRARY_DIR ${CMAKE_CURRENT_SOURCE_DIR} NAME)

# Get C or C++ sources in the current directory (only).
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

find_package(VTK COMPONENTS
  ChartsCore
  CommonColor
  CommonCore
  FiltersSources
  InteractionStyle
  RenderingContextOpenGL2
  RenderingCore
  RenderingFreeType
  RenderingGL2PSOpenGL2
  RenderingOpenGL2
  ViewsContext2D
)

add_executable(vis vis.cpp)
add_library(logger data_logger.cpp)

target_link_libraries(vis PRIVATE ${VTK_LIBRARIES} ${Boost_LIBRARIES})
target_link_libraries(logger PRIVATE ${Boost_LIBRARIES})

vtk_module_autoinit(
  TARGETS vis
  MODULES ${VTK_LIBRARIES}
)

set(COPY_SOURCE_PATH ${CMAKE_BINARY_DIR}/${LIBRARIES_PATH}/${CURRENT_LIBRARY_DIR})

add_custom_command(TARGET vis POST_BUILD COMMAND ${CMAKE_COMMAND} -E
  copy ${COPY_SOURCE_PATH}/vis ${CMAKE_SOURCE_DIR}/vis
)

# add_custom_command(TARGET logger POST_BUILD COMMAND ${CMAKE_COMMAND} -E
#   copy ${COPY_SOURCE_PATH}/liblogger ${CMAKE_CURRENT_SOURCE_DIR}/liblogger
# )



# copy library that has been build to source location

